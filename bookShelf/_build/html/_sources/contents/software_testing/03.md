# 03.同値クラステストと境界値テスト

同値クラステストと境界値テストについて改めて整理します。

## 同値クラステスト

以前と同じ条件分岐を例にします。
```
例

if x == 3:
    return '3'
elif x == 5:
    return '5'
else:
    return 'none'
```

同値クラスとは、テストという観点でみた時、所属するクラスが同じになる値のことです。
上記の例であれば、テストに出てくるクラスは次のような物が考えられます。

- クラスA: 値が3
- クラスB: 値が5
- クラスC: 値が3・5以外

こうみると、テストケースはクラスの数だけ用意すれば網羅性が高くなることが期待できます。

## 境界値テスト

境界値テストは、同値クラスの境界とその付近を調べるテストです。

境界値があるモジュールは次のような例のバグが潜みやすいです。
-> 分岐条件の周囲を入念に調べることでバグを見つけられます。

```
例

# こんな条件分岐をしたい
if x <= 2:
    return '2 ika'
elif x >= 7:
    return '7 ijo'
else:
    return 'none'
    
# 分岐の条件をタイプミスしてしまう x<=2 とするところを x < 2にしてしまu

if x < 2:
    return '2 ika'
elif x >= 7:
    return '7 ijo'
else:
    return 'none'
```

## 検証は一つずつ
テストを行う際、欠陥は他の欠陥を隠すことを意識することは重要です。

正しくは`if x <= 2;`とするところを`if x < 2;`としていたというバグを見つけることは境界値テストで可能です。ただし、分岐したブロックの中身の処理はまた別のテストを行う必要があります。

◆（個人的な所感）欠陥は他の欠陥を隠す、というより人間心理によって「この部分のバグは見つかった」という誤った認識をしてしまうことが往々にして生じるという意味だと考えました。これを理解しておくことで一つずつ検証をすることができるということか。