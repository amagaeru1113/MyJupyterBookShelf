# 07.条件が論理式で表せる場合のテスト：デシジョンテーブル

## デシジョンテーブルとは？
デシジョンテーブルとは、論理関係を表形式で整理した物です。
システム設計の文書化や今回のようなテストに用いることができるツールです。


デシジョンテーブルを理解するために[Amazonの配送料](https://www.amazon.co.jp/gp/help/customer/display.html?nodeId=201911210)を例にしてテストケースを考えてみます。
Amazonでは「2000円以上の買い物をした離島以外に住む人は基本送料無料」です。

上記の例は論理式で表すことができます。
-> 2000円以上買い物をした and 離島に住んでいない

![decision_table](../../images/software_testing/decision_table.png)

今回の例をデシジョンテーブルに起こすと上記のような表になります。
作成方法は実行するアクションとアクションの実行条件をはじめに整理し、条件の状態をYes/Noで埋めていきます。

Amazonの例では条件が2つでYes/Noの2値の状態があるので2の2乗で4通りのテストケースができます。

## デシジョンテーブルの注意点
デシジョンテーブルは解釈性た良く、テストケースが作成しやすいですが、メリットデメリットは当然あります。

- メリット
    - 複数の条件の組み合わせ表であるため、どの条件がどんな状態かが明確である
    - 網羅性が定量化できる -> 網羅率 = 実地したテストケース数 / 全テストケース数
- デメリット
    - 順序は考慮されない
    - 条件が増えるとテストケース数が発散する


上記のようなデメリットはあるものの、場合によってはテストケースの圧縮が可能です。
条件の判定順序でテストケースを整理した時、条件が満たされなかったら後ろの条件判定をしなくていい物についてはそれ以降の判定を行わないようにできます。

前節のAmazon配送料のデシジョンテーブルでは、case3・4は2000以上購入を満たしていないためその時点以降の判定を行わなくて良くなります。そこで2000円以上購入Noのテストケース（case3）として実行すれば良いのです。